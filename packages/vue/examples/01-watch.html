<div id="app">
  {{state.count}}
</div>

<script src="../dist/vue.global.js"></script>

<script>
  Vue.createApp({
    setup() {
      const state = Vue.reactive({
        count: 0,
        age: 100
      })
      // Vue.watch(() => count, () => {
      //   return 1
      // })
      // Vue.watch(() => count, null, {
      //   deep: true,
      //   immediate: true
      // })
      // setTimeout(() => {
      //   count.value++
      // })
      
      // Vue.watch(() => state.count, (nowValue, preValue) => {
      //   state.count ++
      //   console.log('===>之前的值:', preValue, "====>现在的值:", nowValue);
      // }, { flush: 'post' })
      const stop =  Vue.watchEffect(() => {
        console.log(state.count);
        return 111
      })

      state.count ++
      // state.count ++
      // state.count ++

      // stop()

      // state.count++

      return {
        state
      }
    }
  }).mount('#app')
</script>